---
// Fecha.astro
---

<section class="relative w-full py-4 px-6 overflow-hidden">
    <div class="max-w-2xl mx-auto relative z-10" id="contenedor-fecha">
        <div class="flex items-center justify-center gap-6 md:gap-8">
            <!-- DÃ­a de la semana -->
            <div class="text-center opacity-0" id="dia-semana">
                <p
                    class="text-lg md:text-sm uppercase font-crimson font-light"
                    style="color: #8d9072;"
                >
                    SÃ¡bado
                </p>
            </div>

            <!-- LÃ­nea divisoria izquierda -->
            <div
                class="w-px h-16 md:h-20 opacity-0"
                style="background-color: #8d9072;"
                id="linea-izq"
            >
            </div>

            <!-- DÃ­a del mes (nÃºmero grande) -->
            <div class="text-center opacity-0" id="dia-numero">
                <p
                    class="text-lg md:text-base uppercase mb-1 font-crimson font-light"
                    style="color: #8d9072;"
                >
                    Abril
                </p>
                <p
                    class="text-6xl md:text-7xl font-light font-crimson"
                    style="color: #8d9072; line-height: 1;"
                >
                    18
                </p>
                <p
                    class="text-lg md:text-base mt-1 font-crimson font-light"
                    style="color: #8d9072;"
                >
                    2026
                </p>
            </div>

            <!-- LÃ­nea divisoria derecha -->
            <div
                class="w-px h-16 md:h-20 opacity-0"
                style="background-color: #8d9072;"
                id="linea-der"
            >
            </div>

            <!-- Hora -->
            <div class="text-center opacity-0" id="hora">
                <p
                    class="text-lg md:text-sm uppercase font-crimson font-light"
                    style="color: #8d9072;"
                >
                    14:00 H
                </p>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- ðŸŽ¨ ESTILOS PERSONALIZADOS                                   -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<style>
    /* Estilos personalizados si es necesario */
</style>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- ðŸŽ¬ ANIMACIONES CON GSAP                                      -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const initFecha = () => {
        console.log("ðŸ“… Iniciando secciÃ³n de fecha...");

        // â•â•â• ESTADO INICIAL â•â•â•
        gsap.set("#contenedor-fecha", { opacity: 0, y: 50 });

        // â•â•â• ANIMACIÃ“N PRINCIPAL â•â•â•
        ScrollTrigger.create({
            trigger: "#contenedor-fecha",
            start: "top 90%",
            end: "top 20%",

            onEnter: () => {
                const tl = gsap.timeline();

                // Contenedor aparece
                tl.to("#contenedor-fecha", {
                    opacity: 1,
                    y: 0,
                    duration: 1.2,
                    ease: "power3.out",
                })

                    // Elementos aparecen en secuencia
                    .to(
                        "#dia-semana",
                        {
                            opacity: 1,
                            x: 0,
                            duration: 0.8,
                            ease: "power2.out",
                        },
                        0.3,
                    )
                    .to(
                        "#linea-izq",
                        {
                            opacity: 0.3,
                            scaleY: 1,
                            duration: 0.6,
                            ease: "power2.out",
                        },
                        0.5,
                    )
                    .to(
                        "#dia-numero",
                        {
                            opacity: 1,
                            scale: 1,
                            duration: 1,
                            ease: "back.out(1.2)",
                        },
                        0.6,
                    )
                    .to(
                        "#linea-der",
                        {
                            opacity: 0.3,
                            scaleY: 1,
                            duration: 0.6,
                            ease: "power2.out",
                        },
                        0.8,
                    )
                    .to(
                        "#hora",
                        {
                            opacity: 1,
                            x: 0,
                            duration: 0.8,
                            ease: "power2.out",
                        },
                        0.9,
                    );
            },

            onLeaveBack: () => {
                const tl = gsap.timeline();
                tl.to(
                    "#hora, #linea-der, #dia-numero, #linea-izq, #dia-semana",
                    {
                        opacity: 0,
                        duration: 0.3,
                        stagger: 0.05,
                    },
                ).to(
                    "#contenedor-fecha",
                    {
                        opacity: 0,
                        y: 50,
                        duration: 0.5,
                    },
                    "<",
                );
            },
        });

        console.log("ðŸ“…âœ¨ SecciÃ³n de fecha activada!");
    };

    document.addEventListener("DOMContentLoaded", initFecha);
    document.addEventListener("astro:page-load", initFecha);
</script>
