---
// RecepcionSocial.astro
---

<section class="relative w-full py-8 px-6" id="seccion-recepcion">
    <div class="max-w-md mx-auto text-center" id="contenedor-recepcion">
        <!-- Icono de recepci√≥n -->
        <div class="flex justify-center mb-6 icono-recepcion opacity-0">
            <div class="w-16 h-16 md:w-20 md:h-20">
                <img
                    src="/iconos/recepcion.png"
                    alt="Recepci√≥n"
                    class="w-full h-full object-contain filter-color"
                />
            </div>
        </div>

        <!-- T√≠tulo -->
        <h3
            class="font-crimson text-xl md:text-2xl uppercase tracking-widest mb-4 titulo-recepcion opacity-0"
            style="color: #8d9072; font-weight: 300; letter-spacing: 0.2em;"
        >
            Recepci√≥n Social
        </h3>

        <!-- Nombre del lugar -->
        <p
            class="font-crimson text-lg md:text-base mb-2 lugar-nombre opacity-0"
            style="color: #8d9072; font-weight: 400;"
        >
            Sal√≥n de Eventos Las Rosas
        </p>

        <!-- Hora -->
        <p
            class="font-crimson text-lg md:text-lg mb-6 hora-recepcion opacity-0"
            style="color: #8d9072; font-weight: 300;"
        >
            18:30 H
        </p>

        <!-- Bot√≥n de ubicaci√≥n estilo portada -->
        <div class="flex justify-center px-4 boton-ubicacion opacity-0">
            <a
                href="#"
                class="w-full max-w-[280px] px-8 py-3 bg-[#f3f0e8] border
            border-[#dcd9d0] rounded-full text-[#5a5a5a] font-serif text-[13px]
            uppercase tracking-[0.15em] shadow-sm transition-all duration-300
            hover:bg-[#ebe8df] active:scale-95 cursor-pointer inline-block
            text-center no-underline"
            >
                Ver Ubicaci√≥n
            </a>
        </div>
    </div>

    <style>
        .font-crimson {
            font-family: "Crimson Text", serif;
        }

        .font-serif {
            font-family: "Cormorant", serif;
        }

        .filter-color {
            filter: brightness(0) saturate(100%) invert(62%) sepia(9%)
                saturate(936%) hue-rotate(37deg) brightness(94%) contrast(88%)
                drop-shadow(0 2px 8px rgba(141, 144, 114, 0.2));
            transition: all 0.3s ease;
        }

        .icono-recepcion:hover .filter-color {
            filter: brightness(0) saturate(100%) invert(62%) sepia(9%)
                saturate(936%) hue-rotate(37deg) brightness(94%) contrast(88%)
                drop-shadow(0 4px 12px rgba(141, 144, 114, 0.3));
        }

        a {
            text-decoration: none;
        }
    </style>

    <script>
        import { gsap } from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";

        gsap.registerPlugin(ScrollTrigger);

        const initRecepcion = () => {
            console.log("ü•Ç Iniciando animaciones de recepci√≥n social...");

            // Estado inicial con selectores espec√≠ficos
            gsap.set("#contenedor-recepcion .icono-recepcion", {
                opacity: 0,
                y: -30,
                scale: 0.8,
            });
            gsap.set("#contenedor-recepcion .titulo-recepcion", {
                opacity: 0,
                y: 20,
            });
            gsap.set("#contenedor-recepcion .lugar-nombre", {
                opacity: 0,
                y: 20,
            });
            gsap.set("#contenedor-recepcion .hora-recepcion", {
                opacity: 0,
                y: 20,
            });
            gsap.set("#contenedor-recepcion .boton-ubicacion", {
                opacity: 0,
                y: 20,
            });

            // Timeline de animaci√≥n con ScrollTrigger usando ID √∫nico
            ScrollTrigger.create({
                trigger: "#seccion-recepcion",
                start: "top 75%",
                end: "bottom 25%",

                onEnter: () => {
                    console.log("ü•Ç Entrando a la secci√≥n de recepci√≥n");
                    // Animaci√≥n de entrada elegante y simult√°nea
                    gsap.to("#contenedor-recepcion .icono-recepcion", {
                        opacity: 1,
                        y: 0,
                        scale: 1,
                        duration: 1,
                        ease: "power3.out",
                    });

                    gsap.to("#contenedor-recepcion .titulo-recepcion", {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        ease: "power3.out",
                        delay: 0.1,
                    });

                    gsap.to("#contenedor-recepcion .lugar-nombre", {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        ease: "power3.out",
                        delay: 0.15,
                    });

                    gsap.to("#contenedor-recepcion .hora-recepcion", {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        ease: "power3.out",
                        delay: 0.2,
                    });

                    gsap.to("#contenedor-recepcion .boton-ubicacion", {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        ease: "power3.out",
                        delay: 0.25,
                    });
                },

                onLeaveBack: () => {
                    console.log("ü•Ç Saliendo de la secci√≥n de recepci√≥n");
                    // Animaci√≥n de salida r√°pida y simult√°nea
                    gsap.to("#contenedor-recepcion .icono-recepcion", {
                        opacity: 0,
                        y: -30,
                        scale: 0.8,
                        duration: 0.4,
                        ease: "power2.in",
                    });
                    gsap.to("#contenedor-recepcion .titulo-recepcion", {
                        opacity: 0,
                        y: 20,
                        duration: 0.4,
                        ease: "power2.in",
                    });
                    gsap.to("#contenedor-recepcion .lugar-nombre", {
                        opacity: 0,
                        y: 20,
                        duration: 0.4,
                        ease: "power2.in",
                    });
                    gsap.to("#contenedor-recepcion .hora-recepcion", {
                        opacity: 0,
                        y: 20,
                        duration: 0.4,
                        ease: "power2.in",
                    });
                    gsap.to("#contenedor-recepcion .boton-ubicacion", {
                        opacity: 0,
                        y: 20,
                        duration: 0.4,
                        ease: "power2.in",
                    });
                },
            });

            console.log("ü•Ç‚ú® Animaciones de recepci√≥n activadas!");
        };

        // Ejecutar cuando el DOM est√© listo
        if (document.readyState === "loading") {
            document.addEventListener("DOMContentLoaded", initRecepcion);
        } else {
            initRecepcion();
        }

        // Tambi√©n ejecutar en Astro page load
        document.addEventListener("astro:page-load", initRecepcion);
    </script>
</section>
