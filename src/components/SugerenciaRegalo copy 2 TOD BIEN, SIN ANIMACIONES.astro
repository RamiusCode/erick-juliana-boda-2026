---
// SugerenciaRegalos.astro - Versi√≥n con tarjetas uniformes
---

<section class="relative w-full py-8 px-6">
    <div class="max-w-4xl mx-auto">
        <!-- Icono de regalo -->
        <div class="flex justify-center mb-4 icono-regalo opacity-0">
            <div class="w-12 h-12 md:w-14 md:h-14">
                <img
                    src="/iconos/regalo.png"
                    alt="Regalo"
                    class="w-full h-full object-contain filter-color"
                />
            </div>
        </div>

        <!-- T√≠tulo -->
        <h3
            class="font-crimson text-lg md:text-xl uppercase mb-3 text-center titulo-regalo opacity-0"
            style="color: #8d9072; font-weight: 300; letter-spacing: 0.1em;"
        >
            Sugerencia de Regalo
        </h3>

        <!-- Texto principal -->
        <p
            class="font-crimson text-center text-base md:text-xl mb-6 max-w-3xl mx-auto texto-regalo opacity-0"
            style="color: #8d9072; font-weight: 300; letter-spacing: 0.02em;"
        >
            Tu presencia es nuestro mejor regalo. Si deseas obsequiarnos algo,
            hemos creado mesa de regalos en:
        </p>

        <!-- Grid de tiendas - TAMA√ëOS UNIFORMES -->
        <div
            class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-5xl mx-auto mb-6"
        >
            <!-- Tienda 1: Multi Hogar Tramontina -->
            <div class="tienda-item opacity-0">
                <div
                    class="backdrop-blur-sm bg-white/40 rounded-2xl border border-[#8d9072]/20 p-4 shadow-sm hover:shadow-md transition-all duration-300 hover:border-[#8d9072]/40 h-full"
                >
                    <div
                        class="flex flex-col items-center justify-between space-y-3 h-full"
                    >
                        <!-- Logo con altura fija -->
                        <div
                            class="w-16 h-16 flex items-center justify-center flex-shrink-0"
                        >
                            <img
                                src="/imagenes/tramontina.png"
                                alt="Tramontina"
                                class="w-full h-full object-contain"
                            />
                        </div>

                        <!-- Nombre con altura fija -->
                        <p
                            class="font-crimson text-center text-xs md:text-sm leading-tight h-10 flex items-center justify-center"
                            style="color: #8d9072; font-weight: 400;"
                        >
                            Multi Hogar<br />"Tramontina"
                        </p>

                        <!-- Bot√≥n -->

                        <a
                            href="#"
                            class="w-full px-3 py-2 bg-[#f3f0e8] border
                        border-[#dcd9d0] rounded-full text-[#5a5a5a] font-serif
                        text-[10px] md:text-[11px] uppercase tracking-[0.1em]
                        shadow-sm transition-all duration-300 hover:bg-[#ebe8df]
                        active:scale-95 cursor-pointer inline-block text-center
                        no-underline"
                        >
                            Ver Tienda
                        </a>
                    </div>
                </div>
            </div>

            <!-- Tienda 2: Dismac -->
            <div class="tienda-item opacity-0">
                <div
                    class="backdrop-blur-sm bg-white/40 rounded-2xl border border-[#8d9072]/20 p-4 shadow-sm hover:shadow-md transition-all duration-300 hover:border-[#8d9072]/40 h-full"
                >
                    <div
                        class="flex flex-col items-center justify-between space-y-3 h-full"
                    >
                        <div
                            class="w-16 h-16 flex items-center justify-center flex-shrink-0"
                        >
                            <img
                                src="/imagenes/dismac.png"
                                alt="Dismac"
                                class="w-full h-full object-contain"
                            />
                        </div>

                        <p
                            class="font-crimson text-center text-xs md:text-sm leading-tight h-10 flex items-center justify-center"
                            style="color: #8d9072; font-weight: 400;"
                        >
                            Dismac
                        </p>

                        <a
                            href="#"
                            class="w-full px-3 py-2 bg-[#f3f0e8] border
                    border-[#dcd9d0] rounded-full text-[#5a5a5a] font-serif
                    text-[10px] md:text-[11px] uppercase tracking-[0.1em]
                    shadow-sm transition-all duration-300 hover:bg-[#ebe8df]
                    active:scale-95 cursor-pointer inline-block text-center
                    no-underline"
                        >
                            Ver Tienda
                        </a>
                    </div>
                </div>
            </div>

            <!-- Tienda 3: Multicenter -->
            <div class="tienda-item opacity-0">
                <div
                    class="backdrop-blur-sm bg-white/40 rounded-2xl border border-[#8d9072]/20 p-4 shadow-sm hover:shadow-md transition-all duration-300 hover:border-[#8d9072]/40 h-full"
                >
                    <div
                        class="flex flex-col items-center justify-between space-y-3 h-full"
                    >
                        <div
                            class="w-16 h-16 flex items-center justify-center flex-shrink-0"
                        >
                            <img
                                src="/imagenes/multicenter.png"
                                alt="Multicenter"
                                class="w-full h-full object-contain"
                            />
                        </div>

                        <p
                            class="font-crimson text-center text-xs md:text-sm leading-tight h-10 flex items-center justify-center"
                            style="color: #8d9072; font-weight: 400;"
                        >
                            Multicenter
                        </p>

                        <a
                            href="#"
                            class="w-full px-3 py-2 bg-[#f3f0e8] border
                border-[#dcd9d0] rounded-full text-[#5a5a5a] font-serif
                text-[10px] md:text-[11px] uppercase tracking-[0.1em] shadow-sm
                transition-all duration-300 hover:bg-[#ebe8df] active:scale-95
                cursor-pointer inline-block text-center no-underline"
                        >
                            Ver Tienda
                        </a>
                    </div>
                </div>
            </div>

            <!-- Tienda 4: Placeholder -->
            <div class="tienda-item opacity-0">
                <div
                    class="backdrop-blur-sm bg-white/40 rounded-2xl border border-[#8d9072]/20 p-4 shadow-sm hover:shadow-md transition-all duration-300 hover:border-[#8d9072]/40 h-full"
                >
                    <div
                        class="flex flex-col items-center justify-between space-y-3 h-full"
                    >
                        <div
                            class="w-16 h-16 flex items-center justify-center flex-shrink-0"
                        >
                            <img
                                src="/imagenes/tienda.png"
                                alt="Tienda"
                                class="w-full h-full object-contain"
                            />
                        </div>

                        <p
                            class="font-crimson text-center text-xs md:text-sm leading-tight h-10 flex items-center justify-center"
                            style="color: #8d9072; font-weight: 400;"
                        >
                            [Nombre]
                        </p>

                        <a
                            href="#"
                            class="w-full px-3 py-2 bg-[#f3f0e8] border
            border-[#dcd9d0] rounded-full text-[#5a5a5a] font-serif text-[10px]
            md:text-[11px] uppercase tracking-[0.1em] shadow-sm transition-all
            duration-300 hover:bg-[#ebe8df] active:scale-95 cursor-pointer
            inline-block text-center no-underline"
                        >
                            Ver Tienda
                        </a>
                    </div>
                </div>

                <!-- Nota adicional centrada -->
                <!-- <div class="flex justify-center">
                    <p
                        class="font-crimson text-center text-xs md:text-sm max-w-xl nota-final opacity-0"
                        style="color: #8d9072; font-weight: 300;"
                    >
                        O si prefieres, transferencia bancaria
                    </p>
                </div> -->

                <style>
                    .font-crimson {
                        font-family: "Crimson Text", serif;
                    }

                    .font-serif {
                        font-family: "Cormorant", serif;
                    }

                    .filter-color {
                        filter: brightness(0) saturate(100%) invert(62%)
                            sepia(9%) saturate(936%) hue-rotate(37deg)
                            brightness(94%) contrast(88%)
                            drop-shadow(0 2px 8px rgba(141, 144, 114, 0.2));
                        transition: all 0.3s ease;
                    }

                    .icono-regalo:hover .filter-color {
                        filter: brightness(0) saturate(100%) invert(62%)
                            sepia(9%) saturate(936%) hue-rotate(37deg)
                            brightness(94%) contrast(88%)
                            drop-shadow(0 4px 12px rgba(141, 144, 114, 0.3));
                    }

                    a {
                        text-decoration: none;
                    }
                </style>

                <script>
                    import { gsap } from "gsap";
                    import { ScrollTrigger } from "gsap/ScrollTrigger";

                    gsap.registerPlugin(ScrollTrigger);

                    const initRegalos = () => {
                        console.log("üéÅ Iniciando secci√≥n de regalos...");

                        // Estado inicial
                        gsap.set(".icono-regalo", {
                            opacity: 0,
                            y: -20,
                            scale: 0.8,
                        });
                        gsap.set(".titulo-regalo", { opacity: 0, y: 15 });
                        gsap.set(".texto-regalo", { opacity: 0, y: 15 });
                        gsap.set(".tienda-item", { opacity: 0, y: 20 });
                        gsap.set(".nota-final", { opacity: 0, y: 15 });

                        // Timeline de animaci√≥n
                        ScrollTrigger.create({
                            trigger: "section",
                            start: "top 75%",
                            once: true,
                            onEnter: () => {
                                const tl = gsap.timeline();

                                tl.to(".icono-regalo", {
                                    opacity: 1,
                                    y: 0,
                                    scale: 1,
                                    duration: 0.6,
                                    ease: "back.out(1.5)",
                                })
                                    .to(
                                        ".titulo-regalo",
                                        {
                                            opacity: 1,
                                            y: 0,
                                            duration: 0.5,
                                            ease: "power2.out",
                                        },
                                        0.2,
                                    )
                                    .to(
                                        ".texto-regalo",
                                        {
                                            opacity: 1,
                                            y: 0,
                                            duration: 0.5,
                                            ease: "power2.out",
                                        },
                                        0.4,
                                    )
                                    .to(
                                        ".tienda-item",
                                        {
                                            opacity: 1,
                                            y: 0,
                                            duration: 0.5,
                                            stagger: 0.1,
                                            ease: "power2.out",
                                        },
                                        0.6,
                                    )
                                    .to(
                                        ".nota-final",
                                        {
                                            opacity: 1,
                                            y: 0,
                                            duration: 0.5,
                                            ease: "power2.out",
                                        },
                                        1,
                                    );
                            },
                        });

                        console.log("üéÅ‚ú® Secci√≥n de regalos activada!");
                    };

                    // Ejecutar cuando el DOM est√© listo
                    if (document.readyState === "loading") {
                        document.addEventListener(
                            "DOMContentLoaded",
                            initRegalos,
                        );
                    } else {
                        initRegalos();
                    }

                    // Tambi√©n ejecutar en Astro page load
                    document.addEventListener("astro:page-load", initRegalos);
                </script>
            </div>
        </div>
    </div>
</section>
